# Contributing to tambo

Thanks for helping! This guide covers workflow expectations only—**all coding standards, architecture rules, and naming conventions live in @AGENTS.md.**

## Quick Links

- That guide – canonical reference for architecture, naming, coding rules, doc expectations, AI usage, Charlie workflow, etc.
- `docs/` + `devdocs/` – public docs + internal references (update them with code changes).
- [RELEASING.md](./RELEASING.md) – API/SDK/Cloud release process.

## Workflow Overview

1. Pick or file an issue.
2. Branch from `main` (`alecf/<descriptive-name>` when using Conductor).
3. Build the feature/fix with tests + docs alongside the code.
4. Run lint, types, and tests locally.
5. Open a PR with a Conventional Commit title and include the checklist below.
6. Iterate with reviewers (and Charlie, the AI code reviewer) until CI is green and approvals are in.

## PR Titles and Semantic Versioning

We infer release impact from PR titles using [Conventional Commits](https://www.conventionalcommits.org/) syntax:

- `feat(scope): ...` → Minor bump
- `fix(scope): ...`, `perf(scope): ...`, `refactor(scope): ...`, `docs(scope): ...`, `chore(scope): ...` → Patch bump or none
- Breaking change → `feat(scope)!: ...` or include a `BREAKING CHANGE:` footer

Scopes reference areas like `api`, `web`, `core`, `cli`, `docs`, `sdk`. Keep titles imperative and concise. Examples: `feat(api): add transcript export endpoint`, `fix(web): prevent duplicate project creation`.

## Documentation & Visual Changes

- Every functional change must update the relevant docs (`docs/`, root `.md`, or `devdocs/`).
- Component work must keep Showcase + CLI registry in sync.
- UI/DX changes require a ≤90s video demo attached to the PR.
- Link the doc change (or follow-up issue) in your PR description.

## API + SDK Source of Truth

- API lives in `apps/api`.
- The TypeScript SDK (`@tambo-ai/typescript-sdk`) is generated by Stainless after API deploys. Do **not** edit it manually—let Stainless open the release PR.
- React SDK updates follow the workflow in [RELEASING.md](./RELEASING.md).

## Required Checks

```bash
npm run lint
npm run check-types
npm test
```

Add targeted tests for new behavior and keep migrations in sync with DB changes. When in doubt about placement, follow the guidance in that doc.

## Charlie (AI Review Agent)

- Reply to every comment.
- Use `@CharlieHelps yes please` to apply a suggestion, `fixed` when you handled it yourself, or explain why you’re declining.
- Batch the `yes please` comments in a single review when applying multiple fixes.

## Security & Secrets

- Never commit credentials. Use the documented env files (`apps/api/.env`, `apps/web/.env.local`, `packages/db/.env`, `docker.env`).
- Rotate anything leaked immediately.

## PR Checklist

- [ ] Conventional Commit title (`!` for breaking changes)
- [ ] Linked issue(s) or context
- [ ] Docs updated (or follow-up issue linked)
- [ ] Showcase/CLI updated if components changed
- [ ] Visual change video attached (if applicable)
- [ ] Tests added/updated; `npm run lint`, `npm run check-types`, `npm test` all pass
- [ ] SDK workflow respected (no manual edits to generated clients)

## Need More Guidance?

If you’re looking for coding standards, naming rules, CLI/showcase sync details, AI policy, or MCP instructions, that single source of truth has you covered.

## Code of Conduct

Participate respectfully and keep collaboration constructive.

## API and SDK Source of Truth

- API changes live in `apps/api`.
- The TypeScript SDK (`@tambo-ai/typescript-sdk`) is generated by Stainless from the deployed API spec. Never edit the SDK by hand or publish it manually.
- Deploy API changes, let Stainless open the SDK release PR, review that PR, then land dependency bumps here as needed.

## Visual Changes Need a Short Video

UI or DX-affecting PRs (components, dashboard tweaks, CLI UX) must ship with a ≤90s screen recording showing before/after and key flows. Loom links are fine.

## Documentation Requirements

Every functional change must update docs in the right place:

- Public docs: `docs/` (Fumadocs) or the relevant MDX page.
- Developer docs: root `.md` files or `devdocs/`.
- Link the doc change (or follow-up issue) in your PR.

If you touch components:

- Update Showcase examples (`showcase/`) so reviewers can interact with the change.
- Update the CLI registry (`cli/src/registry/`) so scaffolding stays in sync.
- Mirror any CLI component changes into `docs/` components if they originated there.

## Lint, Types, and Tests (Required)

Before requesting review, all of these must pass:

```bash
npm run lint
npm run check-types
npm test
```

Fix lint warnings, keep TypeScript strict, and add focused tests for new logic. Database changes must include matching Drizzle migrations (`npm run db:generate`).

## Coding Standards

- Favor small, functional modules with explicit error handling.
- Early-return instead of deep nesting; avoid mutation.
- Keep business logic outside UI components; use `lib/`, `services/`, or `utils/` helpers.
- Follow React naming conventions (see `devdocs/NAMING_CONVENTIONS.md`) and loading-state rules (`devdocs/LOADING_STATES.md`).
- Use tRPC inside `apps/web` instead of ad-hoc `/api` routes.
- Never edit generated SDK files; wrap them if you need helpers.

## AI-Generated Code Policy

AI output must be reviewed and cleaned up by you. Follow the internal AI policies described there and never paste secrets or private data into prompts.

## Working with Charlie (AI Code Reviewer)

Charlie may leave inline suggestions on your PR. Reply to every comment:

- Use `@CharlieHelps yes please` if you want it to apply a fix.
- Reply with `fixed` (plus context) after resolving manually.
- Explain if the suggestion is being declined.

Batch multiple `@CharlieHelps yes please` replies in a single review if you want Charlie to apply several fixes together.

## Security and Secrets

Do not commit API keys or credentials. Use the documented env files (`apps/api/.env`, `apps/web/.env.local`, `packages/db/.env`, `docker.env`). Rotate anything leaked immediately.

## PR Checklist (Copy into Description)

Copy the checklist from the **PR Checklist** section above into your PR description.

## Branching, Commits, and Reviews

- Keep branches small and focused; rebase on `main` when needed.
- Use clear, scoped commits (Conventional Commits encouraged).
- At least one maintainer approval required. Pull in subject-matter experts for API, DB, or design-heavy changes.

## Releases

- Release-please manages tagging and changelog generation for each package. Maintainers may edit PR titles to ensure correct SemVer impact.
- See [RELEASING.md](./RELEASING.md) for the full workflow across API, SDKs, and apps.

## Links

- Discord: https://discord.gg/dJNvPEHth6
- Docs: https://docs.tambo.co

Thanks for helping improve tambo!
