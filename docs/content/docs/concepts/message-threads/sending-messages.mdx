---
title: Sending Thread Messages
description: Send messages to Tambo to generate a response
---

### Sending thread messages

We recommend using the `useTamboThreadInput` hook to send messages to the thread.

```tsx
import { useTamboThreadInput } from "@tambo-ai/react";

const { value, setValue, submit } = useTamboThreadInput();
```

The `value` is the value of the message that you want to send.

The `setValue` is the function that you can use to update the value of the message.

To send a user's message to tambo, you can use the `submit` function:

You can also pass in an optional `options` object to the `submit` function.

```tsx
setValue("What is the weather like today?");

await submit({
  streamResponse: true, // We recommend streaming the response to the user
});
```

import { Card, Cards } from "fumadocs-ui/components/card";

<Cards>
  <Card title="Streaming" href="/docs/concepts/streaming">
    Learn more about streaming.
  </Card>
</Cards>

You can use `isPending` and `error` to show a loading state or an error state:

```tsx
if (isPending) {
  return <div>Loading...</div>;
}
```

```tsx
if (error) {
  return <div>Error: {error.message}</div>;
}
```

You can also use the `sendThreadMessage` function to send messages to the thread:

```tsx
const { sendThreadMessage } = useTamboThread();

await sendThreadMessage("What is the weather like today?", {
  streamResponse: true,
});
```

### Adding Context to Messages

When sending messages, you can include additional context that will be sent along with the user's message. This is useful for providing extra information that tambo should consider when generating a response.

#### With `useTamboThreadInput`

```tsx
await submit({
  streamResponse: true,
  additionalContext: {
    pageInfo: {
      url: "/weather",
    },
    location: "San Francisco",
    units: "fahrenheit",
  },
});
```

#### With `sendThreadMessage`

```tsx
await sendThreadMessage("What is the weather like today?", {
  streamResponse: true,
  additionalContext: {
    pageInfo: {
      url: "/weather",
    },
    location: "San Francisco",
    units: "fahrenheit",
  },
});
```

The `additionalContext` parameter accepts a `Record<string, any>` object, allowing you to pass any structured data as context.

#### Context Helpers

tambo can automatically include context helpers with every message when they are enabled. These context helpers provide useful metadata without requiring additional code in your components.

Available context helpers include:

- **userTime**: Current time, timezone, and timestamp information
- **userPage**: Current page URL, title, and navigation information

Context helpers are configured at the provider level and are disabled by default. See [Additional Context](/concepts/additional-context/configuration) for configuration details.

Your manual `additionalContext` will be merged with any enabled context helpers. For example, if the `userTime` context helper is enabled, the above code would result in a combined context like:

```json
{
  "pageInfo": {
    "url": "/weather"
  },
  "location": "San Francisco",
  "units": "fahrenheit",
  "userTime": {
    "localTime": "1/15/2025, 3:30:00 PM",
    "timezone": "America/New_York",
    "timestamp": "2025-01-15T20:30:00.000Z",
    "offsetMinutes": 300
  }
}
```
